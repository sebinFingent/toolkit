{"version":3,"file":"static/js/708.aa536d61.chunk.js","mappings":"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","sources":["utils/globals.js","pages/dashboard/canban/card.js","pages/dashboard/canban/index.js"],"sourcesContent":["export const STAGES = [\r\n  {\r\n    stageName: \"TO DO ss\",\r\n    id: 1,\r\n    cards: [\r\n      {\r\n        cardName: \"Card 1\",\r\n        cardId: 1.1,\r\n      },\r\n      {\r\n        cardName: \"Card 2\",\r\n        cardId: 1.2,\r\n      },\r\n      {\r\n        cardName: \"Card 3\",\r\n        cardId: 1.3,\r\n      },\r\n      {\r\n        cardName: \"Card 4\",\r\n        cardId: 1.4,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    stageName: \"IN PROGRESS\",\r\n    id: 2,\r\n    cards: [\r\n      {\r\n        cardName: \"Card 1\",\r\n        cardId: 2.1,\r\n      },\r\n      {\r\n        cardName: \"Card 2\",\r\n        cardId: 2.2,\r\n      },\r\n      {\r\n        cardName: \"Card 3\",\r\n        cardId: 2.3,\r\n      },\r\n      {\r\n        cardName: \"Card 4\",\r\n        cardId: 2.4,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    stageName: \"DEVELOPED\",\r\n    id: 3,\r\n    cards: [\r\n      {\r\n        cardName: \"Card 1\",\r\n        cardId: 3.1,\r\n      },\r\n      {\r\n        cardName: \"Card 2\",\r\n        cardId: 3.2,\r\n      },\r\n      {\r\n        cardName: \"Card 3\",\r\n        cardId: 3.3,\r\n      },\r\n      {\r\n        cardName: \"Card 4\",\r\n        cardId: 3.4,\r\n      },\r\n    ],\r\n  },\r\n];\r\n","import \"./style.scss\";\r\n\r\nexport default function Card(props) {\r\n  const {\r\n    handleDragStart,\r\n    data,\r\n    isDragging,\r\n    onDragOver,\r\n    dragItemData,\r\n    ...restProps\r\n  } = props;\r\n\r\n  return !isDragging ? (\r\n    <div>\r\n      <div\r\n        className=\"card-wrapper fc\"\r\n        draggable={true}\r\n        onDragStart={handleDragStart}\r\n        {...restProps}\r\n      >\r\n        {data?.cardName || \"\"}\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    !(JSON.stringify(data) === JSON.stringify(dragItemData())) && (\r\n      <div className={\"card-space-handler\"} onMouseEnter={onDragOver}>\r\n        <div\r\n          className=\"card-wrapper fc\"\r\n          draggable={true}\r\n          onDragStart={handleDragStart}\r\n          {...restProps}\r\n        >\r\n          {data?.cardName || \"\"}\r\n        </div>\r\n      </div>\r\n    )\r\n  );\r\n}\r\n","import \"./style.scss\";\r\nimport { STAGES } from \"../../../utils/globals\";\r\nimport Card from \"./card\";\r\nimport { Fragment, useRef, useState } from \"react\";\r\n\r\nexport default function Canban() {\r\n  const [stages, setStages] = useState(STAGES);\r\n\r\n  const [draggingItem, onDragging] = useState(null);\r\n\r\n  const dragHoverRef = useRef(null);\r\n\r\n  // Drag start\r\n  const handleDragStart = (event, stageId, cardId) => {\r\n    if (stageId && cardId) {\r\n      onDragging({ stageId, cardId });\r\n      event.preventDefault();\r\n      document.addEventListener(\"mouseup\", onMouseUp);\r\n      document.addEventListener(\"mousemove\", onMouseMove);\r\n    }\r\n  };\r\n\r\n  // Drag stop\r\n  function onMouseUp() {\r\n    onDragging(null);\r\n    document.removeEventListener(\"mouseup\", onMouseUp);\r\n    document.removeEventListener(\"mousemove\", onMouseMove);\r\n  }\r\n\r\n  // Drop\r\n  const drop = (stageIndex) => {\r\n    const { stageId = null, cardId = null } = draggingItem;\r\n\r\n    if (stageId && cardId && stageIndex >= 0) {\r\n      const stages_copy = [...stages];\r\n\r\n      const selectedItemStageIndex = stages_copy.findIndex(\r\n        (s_item) => s_item.id === stageId\r\n      );\r\n      const selectedItemCardIndex = stages_copy[\r\n        selectedItemStageIndex\r\n      ].cards.findIndex((c_item) => c_item.cardId === cardId);\r\n\r\n      const cardItem = stages_copy[selectedItemStageIndex].cards.splice(\r\n        selectedItemCardIndex,\r\n        1\r\n      );\r\n\r\n      if (dragHoverRef?.current != null) {\r\n        stages_copy[stageIndex].cards.splice(\r\n          dragHoverRef.current,\r\n          0,\r\n          cardItem[0]\r\n        );\r\n      } else {\r\n        stages_copy[stageIndex].cards.push(cardItem[0]);\r\n      }\r\n\r\n      setStages(stages_copy);\r\n    }\r\n  };\r\n\r\n  function onMouseMove(e) {\r\n    const el = document.getElementById(\"move-box\");\r\n    const wrp = document.getElementById(\"canban\");\r\n    if (\r\n      el &&\r\n      e.pageX > wrp.getBoundingClientRect().left - 20 &&\r\n      e.pageY > 0 &&\r\n      e.pageX < wrp.getBoundingClientRect().right - 50 &&\r\n      e.pageY < wrp.getBoundingClientRect().bottom - 50\r\n    ) {\r\n      el.style.left = e.pageX - 4 + \"px\";\r\n      el.style.top = e.pageY - 3 + \"px\";\r\n    }\r\n  }\r\n\r\n  const getDataOnDrag = () => {\r\n    const { stageId = null, cardId = null } = draggingItem;\r\n\r\n    if (stageId && cardId) {\r\n      const stages_copy = [...stages];\r\n\r\n      const selectedItemStageIndex = stages_copy.findIndex(\r\n        (s_item) => s_item.id === stageId\r\n      );\r\n      const selectedItemCardIndex = stages_copy[\r\n        selectedItemStageIndex\r\n      ].cards.findIndex((c_item) => c_item.cardId === cardId);\r\n\r\n      const cardItem =\r\n        stages_copy[selectedItemStageIndex].cards[selectedItemCardIndex];\r\n\r\n      return cardItem;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"canban-wrapper\" id={\"canban\"}>\r\n        {stages.map((st, i) => (\r\n          <div\r\n            className=\"stage\"\r\n            onMouseUp={() => draggingItem && drop(i)}\r\n            key={\"stage\" + i}\r\n            onMouseLeave={(e) => {\r\n              dragHoverRef.current = null;\r\n              e.stopPropagation();\r\n            }}\r\n          >\r\n            <span style={{ fontWeight: \"500\" }}>{st.stageName}</span>\r\n            {st.cards.map((cardData, i) => {\r\n              const { cardId } = cardData;\r\n              return (\r\n                <Fragment key={cardId + \"\" + i}>\r\n                  {\r\n                    <Card\r\n                      handleDragStart={(e) => handleDragStart(e, st.id, cardId)}\r\n                      data={cardData}\r\n                      isDragging={draggingItem}\r\n                      dragItemData={getDataOnDrag}\r\n                      onDragOver={(e) => {\r\n                        dragHoverRef.current = i;\r\n                        e.stopPropagation();\r\n                      }}\r\n                    />\r\n                  }\r\n                </Fragment>\r\n              );\r\n            })}\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {draggingItem && <Card id={\"move-box\"} data={getDataOnDrag()} />}\r\n    </>\r\n  );\r\n}\r\n"],"names":["STAGES","stageName","id","cards","cardName","cardId","Card","props","handleDragStart","data","isDragging","onDragOver","dragItemData","restProps","JSON","stringify","_jsx","className","onMouseEnter","children","draggable","onDragStart","Canban","stages","setStages","useState","draggingItem","onDragging","dragHoverRef","useRef","onMouseUp","document","removeEventListener","onMouseMove","e","el","getElementById","wrp","pageX","getBoundingClientRect","left","pageY","right","bottom","style","top","getDataOnDrag","stageId","stages_copy","selectedItemStageIndex","findIndex","s_item","selectedItemCardIndex","c_item","_jsxs","_Fragment","map","st","i","stageIndex","cardItem","splice","current","push","drop","onMouseLeave","stopPropagation","fontWeight","cardData","Fragment","event","preventDefault","addEventListener"],"sourceRoot":""}